{
  "name": "Particle-swift",
  "tagline": "Swift 3.0 Package for interacting with Particle Cloud services ",
  "body": "# particle-swift\r\n\r\nSwift 3.0 Package for interacting with Particle Cloud services \r\n\r\n*Compatibility:* Xcode 8 (Swift 3.0) or the equivalent open source variant of Swift is required.\r\n\r\nThis project provides a pure Swift SDK for interacting with the particle.io cloud services.  The \r\nAPIs provide access to the following portions of the Particle Cloud\r\n\r\n  * Authentication\r\n  * Devices\r\n  * Webhooks\r\n  * Events\r\n\r\nThis project has the following long term goals\r\n\r\n  * Follow pure swift design and coding styles\r\n  * Be dependency free\r\n  * Work with the swift package manager and provide frameworks for iOS, macOS, tvOS, and watchOS\r\n\r\nSome general design guidelines are \r\n\r\n  * Delegate secured storage of credentials to the caller.  Higher level consumers can store in keychain, etc.\r\n  * Generally be a stateless (outside of authentication) API set for the Particle Cloud services. \r\n  * Be compatible with Linux and other swift ports (long term goal)\r\n  * Multi-user concurrency.  Multiple particle cloud accounts may be created and used at the same time.\r\n\r\nIntended usages for this library would include server side Swift, iOS/tvOS/macOS/watchOS applications that utilize particle cloud service, or any other Swift based product that wants to use the awesome Particle Cloud.\r\n\r\nA swift package manager compatible executable project is available [here](https://github.com/vakoc/particle-swift-cli). \r\n\r\nUsing the Library\r\n-------\r\n\r\nparticle-swift can be used by by any platform that is supported by the Swift Package Manager (SPM) or directly by Xcode for Apple based platforms.\r\n\r\nSPM based deployments simply need to include the particle-swift github url in the Package.swift as shown below.  The particle-swift-cli, for example, utilizes particle-swift by delcaring it in Package.swift as follows\r\n\r\n```swift\r\nimport PackageDescription\r\n\r\nlet package = Package(\r\n    name: \"particle-swift-cli\",\r\n    dependencies: [\r\n        .Package(url: \"https://github.com/vakoc/particle-swift.git\", versions: Version(0,0,0)...Version(1,0,0)),\r\n    ]\r\n)\r\n```\r\n\r\nThe SPM supports only macOS targets on the Apple platforms and command line applications on Linux.  Traditional iOS, tvOS, watchOS, or macOS applications may also utilize particle-swift by simply cloning the git repository and adding the source managed Xcode/ParticleSwift.xcodeproj Xcode project directly into their sources.  \r\n\r\nThis Xcode project provides Swift frameworks for each of those platforms.  Simply add the corresponding framework as an embedded framework to your application.  Any source files that want to utilize particle-swift should import the module as shown below\r\n\r\n```swift\r\nimport Foundation\r\nimport ParticleSwift\r\n\r\nlet particleCloud = ParticleCloud(.....)\r\n```\r\n\r\nGetting Started\r\n-------\r\nparticle-swift provides the APIs to interact with the Particle Cloud webservices.  Authentication is handled by the library but credential storage is not; the caller is reponsible for providing and securely storing sensitive information.  Apple platorms provide keychain storage which is suitable for persisting sensitive information.  \r\n\r\nThe following sample provides an example of using particle-swift with basic and  insecure credential management.  Keychain services is beyond the scope of this example.  Note:  ParticleCloud instances are not singletons and is fully supported to have multiple instances run concurrently that may utilize separate OAuth realms at the same time.  Multi-user concurrency is an essential design goal of this library.\r\n\r\n```swift\r\nimport Foundation\r\nimport ParticleSwift\r\n\r\n// Illustrative example utilizing insecure UserDefaults for token storage and hard coded\r\n// user names.  Production apps should use more secure mechanisms like the Keychain services \r\n// provided by the OS\r\nclass MyParticleCloud {\r\n    \r\n    var token: OAuthToken?\r\n    var particleCloud: ParticleCloud?\r\n    \r\n    init() {\r\n        if let dictionary = UserDefaults.standard.value(forKey: \"token\") as? Dictionary<String,Any> {\r\n            self.token = OAuthToken(with: dictionary)\r\n        }\r\n        particleCloud = ParticleCloud(secureStorage: self)\r\n    }\r\n    \r\n    func callFunctionOnAllMyDevices() {\r\n        \r\n        particleCloud?.devices { result in\r\n            switch (result) {\r\n            case .success(let devices):\r\n                devices.forEach { device in\r\n                    self.particleCloud?.callFunction(\"myFunction\", deviceID: device.deviceID, argument: \"7\") { functionResult in\r\n                        \r\n                        switch (functionResult) {\r\n                            case .success(let retVal):\r\n                                print(\"Result of myFunction(7) device \\(device.name) was \\(retVal)\")\r\n                            case .failure(let error):\r\n                                print(\"Error:  Failed to call myFunction(7) on device \\(device.name) with error \\(error)\")\r\n                        }\r\n                    }\r\n                }\r\n            case .failure(let error):\r\n                print(\"Error:  Unable to enumerate all devices with function \\(error)\")\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nextension MyParticleCloud: SecureStorage {\r\n    \r\n    func username(_ realm: String) -> String? {\r\n        return \"myuser\"\r\n    }\r\n    \r\n    func password(_ realm: String) -> String? {\r\n        return \"mypassword\"\r\n    }\r\n    \r\n    func oauthClientId(_ realm: String) -> String? {\r\n        return \"particle\"\r\n    }\r\n    \r\n    func oauthClientSecret(_ realm: String) -> String? {\r\n        return \"particle\"\r\n    }\r\n    \r\n    func oauthToken(_ realm: String) -> OAuthToken? {\r\n        return token\r\n    }\r\n    \r\n    func updateOAuthToken(_ token: OAuthToken?, forRealm realm: String) {\r\n        self.token = token\r\n        /// Persist this for subsequent runs\r\n        UserDefaults.standard.set(token.dictionary, forKey: \"token\")\r\n    }\r\n}\r\n```\r\n\r\nThe following example uses the MyParticleCloud class to call a function on all devices assocaited with the user's account.\r\n\r\n```swift\r\nlet cloud = MyParticleCloud()\r\ncloud.callFunctionOnAllMyDevices()\r\n```\r\n\r\nNote:  if you are using particle-swift in a command line style application you will need to create a runloop.  All particle-swift interactions are asynchronous and utliize background threads for network communications.  Create a runloop like\r\n\r\n```swift\r\nRunLoop.current.run(until: Date.distantFuture)\r\n```\r\n\r\nRefer to the particle-swift-cli sample application, which utilizes every particle-swift capability, for more examples on how to make use of this framework.\r\n\r\nVersioning\r\n-------\r\nSwift package manager based projects utilize only tagged releases that match the versions specified in the Package.swift manifest file.  As such releases of this library are created often.  Version numbers follow the semantic versioning system of MAJOR.MINOR.PATCH.  While every attempt is made to prevent source level incompatibilities between patch level versions, at this point, this is not guaranteed.  \r\n\r\nLinux Support\r\n-------\r\nparticle-swift (and particle-swift-cli) currently compile and function on Linux.  Known bugs exist in 3.0.1 and 3.0.2 verions of swift on Linux that can prevent HTTP headers from being properly included in requests, which is extremely significant to this library.  As such a recent Swift snapshots (later than ~ Oct 20, 2016) resolve this issue.\r\n\r\nLinux support is an important long term goal of this project and every effort is made to make it work as well on Linux as on Apple platforms.  Swift on Linux is rather unstable IMHO and the focus of Linux support will be concerned only with using recent Swift builds.\r\n\r\nThe most recent Swift build known to work is swift-DEVELOPMENT-SNAPSHOT-2016-11-15-a-ubuntu16.04.\r\n\r\nRoadmap\r\n-------\r\n\r\nAPIs should be relatively stable but are subject to change.  Additional Particle Cloud functionality is being added\r\nin the following general order\r\n\r\n  * Firmware\r\n\r\nOnce complete additional functionality will be added.\r\n\r\nLicense\r\n-------\r\nAll code is licenced under the Apache 2.0 license.  See http://www.vakoc.com/LICENSE.txt for more information.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}